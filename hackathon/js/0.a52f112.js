webpackJsonp([0],{G3cC:function(e,t,r){t=e.exports=r("FZ+f")(!1),t.push([e.i,'.detail-container {\n  width: 100%;\n}\n.detail-canvas-wrapper {\n  position: relative;\n  width: 100vw;\n  height: 100vw;\n  background-color: #fff;\n}[data-rem="true"] .detail-canvas-wrapper {\n  width: 10rem;\n  height: 10rem\n}\n.detail-canvas {\n  width: 100%;\n  height: 100%;\n}\n',""])},VbqQ:function(e,t,r){"use strict";function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw new Error("three-obj function paramater {element} is empty");this.renderer=null,this.canvas=e,this.aspectRatio=1,this.recalcAspectRatio(),this.scene=null,this.cameraDefaults={posCamera:new THREE.Vector3(0,0,500),posCameraTarget:new THREE.Vector3(0,0,0),near:1,far:1e3,fov:25},this.camera=null,this.cameraTarget=this.cameraDefaults.posCameraTarget,this.controls=null,this.filePath=t.filePath,this.mtlFilePath=t.mtlFilePath,this.loadedCallback=t.callback}Object.defineProperty(t,"__esModule",{value:!0}),r("YM5a"),r("l9qI"),r("dcbN"),r("Ww9e"),i.prototype.initGL=function(){this.renderer=new THREE.WebGLRenderer({canvas:this.canvas,antialias:!0,autoClear:!0}),this.renderer.setClearColor(16777215),this.scene=new THREE.Scene,this.camera=new THREE.PerspectiveCamera(this.cameraDefaults.fov,this.aspectRatio,this.cameraDefaults.near,this.cameraDefaults.far),this.resetCamera(),this.controls=new THREE.TrackballControls(this.camera,this.renderer.domElement);var e=new THREE.AmbientLight(16777215,.4);this.scene.add(e);var t=new THREE.PointLight(16777215,.8);this.camera.add(t),this.scene.add(this.camera)},i.prototype.initContent=function(){var e=this,t=new THREE.MTLLoader,r=new THREE.OBJLoader,i=function(t){t.position.y=-90,e.scene.add(t),e.loadedCallback&&e.loadedCallback()};this.mtlFilePath?t.load(e.mtlFilePath,function(t){t.preload(),r.setMaterials(t).load(e.filePath,i)}):r.load(e.filePath,i)},i.prototype.resizeDisplayGL=function(){this.controls.handleResize(),this.recalcAspectRatio(),this.renderer.setSize(this.canvas.offsetWidth,this.canvas.offsetHeight,!1),this.updateCamera()},i.prototype.recalcAspectRatio=function(){this.aspectRatio=0===this.canvas.offsetHeight?1:this.canvas.offsetWidth/this.canvas.offsetHeight},i.prototype.resetCamera=function(){this.camera.position.copy(this.cameraDefaults.posCamera),this.cameraTarget.copy(this.cameraDefaults.posCameraTarget),this.updateCamera()},i.prototype.updateCamera=function(){this.camera.aspect=this.aspectRatio,this.camera.lookAt(this.cameraTarget),this.camera.updateProjectionMatrix()},i.prototype.render=function(){this.renderer.autoClear||this.renderer.clear(),this.controls.update(),this.renderer.render(this.scene,this.camera)},i.prototype.destroy=function(){this.renderer.clear()},t.default=i},Ww9e:function(e,t,r){"use strict";THREE.OBJLoader=function(){function e(){var e={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materialLibraries:[],startObject:function(e,t){if(this.object&&!1===this.object.fromDeclaration)return this.object.name=e,void(this.object.fromDeclaration=!1!==t);var r=this.object&&"function"==typeof this.object.currentMaterial?this.object.currentMaterial():void 0;if(this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0),this.object={name:e||"",fromDeclaration:!1!==t,geometry:{vertices:[],normals:[],colors:[],uvs:[]},materials:[],smooth:!0,startMaterial:function(e,t){var r=this._finalize(!1);r&&(r.inherited||r.groupCount<=0)&&this.materials.splice(r.index,1);var i={index:this.materials.length,name:e||"",mtllib:Array.isArray(t)&&t.length>0?t[t.length-1]:"",smooth:void 0!==r?r.smooth:this.smooth,groupStart:void 0!==r?r.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(e){var t={index:"number"==typeof e?e:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return t.clone=this.clone.bind(t),t}};return this.materials.push(i),i},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(e){var t=this.currentMaterial();if(t&&-1===t.groupEnd&&(t.groupEnd=this.geometry.vertices.length/3,t.groupCount=t.groupEnd-t.groupStart,t.inherited=!1),e&&this.materials.length>1)for(var r=this.materials.length-1;r>=0;r--)this.materials[r].groupCount<=0&&this.materials.splice(r,1);return e&&0===this.materials.length&&this.materials.push({name:"",smooth:this.smooth}),t}},r&&r.name&&"function"==typeof r.clone){var i=r.clone(0);i.inherited=!0,this.object.materials.push(i)}this.objects.push(this.object)},finalize:function(){this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0)},parseVertexIndex:function(e,t){var r=parseInt(e,10);return 3*(r>=0?r-1:r+t/3)},parseNormalIndex:function(e,t){var r=parseInt(e,10);return 3*(r>=0?r-1:r+t/3)},parseUVIndex:function(e,t){var r=parseInt(e,10);return 2*(r>=0?r-1:r+t/2)},addVertex:function(e,t,r){var i=this.vertices,o=this.object.geometry.vertices;o.push(i[e+0],i[e+1],i[e+2]),o.push(i[t+0],i[t+1],i[t+2]),o.push(i[r+0],i[r+1],i[r+2])},addVertexPoint:function(e){var t=this.vertices;this.object.geometry.vertices.push(t[e+0],t[e+1],t[e+2])},addVertexLine:function(e){var t=this.vertices;this.object.geometry.vertices.push(t[e+0],t[e+1],t[e+2])},addNormal:function(e,t,r){var i=this.normals,o=this.object.geometry.normals;o.push(i[e+0],i[e+1],i[e+2]),o.push(i[t+0],i[t+1],i[t+2]),o.push(i[r+0],i[r+1],i[r+2])},addColor:function(e,t,r){var i=this.colors,o=this.object.geometry.colors;o.push(i[e+0],i[e+1],i[e+2]),o.push(i[t+0],i[t+1],i[t+2]),o.push(i[r+0],i[r+1],i[r+2])},addUV:function(e,t,r){var i=this.uvs,o=this.object.geometry.uvs;o.push(i[e+0],i[e+1]),o.push(i[t+0],i[t+1]),o.push(i[r+0],i[r+1])},addUVLine:function(e){var t=this.uvs;this.object.geometry.uvs.push(t[e+0],t[e+1])},addFace:function(e,t,r,i,o,n,s,a,l){var c=this.vertices.length,u=this.parseVertexIndex(e,c),h=this.parseVertexIndex(t,c),p=this.parseVertexIndex(r,c);if(this.addVertex(u,h,p),void 0!==i&&""!==i){var d=this.uvs.length;u=this.parseUVIndex(i,d),h=this.parseUVIndex(o,d),p=this.parseUVIndex(n,d),this.addUV(u,h,p)}if(void 0!==s&&""!==s){var f=this.normals.length;u=this.parseNormalIndex(s,f),h=s===a?u:this.parseNormalIndex(a,f),p=s===l?u:this.parseNormalIndex(l,f),this.addNormal(u,h,p)}this.colors.length>0&&this.addColor(u,h,p)},addPointGeometry:function(e){this.object.geometry.type="Points";for(var t=this.vertices.length,r=0,i=e.length;r<i;r++)this.addVertexPoint(this.parseVertexIndex(e[r],t))},addLineGeometry:function(e,t){this.object.geometry.type="Line";for(var r=this.vertices.length,i=this.uvs.length,o=0,n=e.length;o<n;o++)this.addVertexLine(this.parseVertexIndex(e[o],r));for(var s=0,n=t.length;s<n;s++)this.addUVLine(this.parseUVIndex(t[s],i))}};return e.startObject("",!1),e}function t(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager,this.materials=null}var r=/^[og]\s*(.+)?/,i=/^mtllib /,o=/^usemtl /;return t.prototype={constructor:t,load:function(e,t,r,i){var o=this,n=new THREE.FileLoader(o.manager);n.setPath(this.path),n.load(e,function(e){t(o.parse(e))},r,i)},setPath:function(e){return this.path=e,this},setMaterials:function(e){return this.materials=e,this},parse:function(t){console.time("OBJLoader");var n=new e;-1!==t.indexOf("\r\n")&&(t=t.replace(/\r\n/g,"\n")),-1!==t.indexOf("\\\n")&&(t=t.replace(/\\\n/g,""));for(var s=t.split("\n"),a="",l="",c=[],u="function"==typeof"".trimLeft,h=0,p=s.length;h<p;h++)if(a=s[h],a=u?a.trimLeft():a.trim(),0!==a.length&&"#"!==(l=a.charAt(0)))if("v"===l){var d=a.split(/\s+/);switch(d[0]){case"v":n.vertices.push(parseFloat(d[1]),parseFloat(d[2]),parseFloat(d[3])),8===d.length&&n.colors.push(parseFloat(d[4]),parseFloat(d[5]),parseFloat(d[6]));break;case"vn":n.normals.push(parseFloat(d[1]),parseFloat(d[2]),parseFloat(d[3]));break;case"vt":n.uvs.push(parseFloat(d[1]),parseFloat(d[2]))}}else if("f"===l){for(var f=a.substr(1).trim(),m=f.split(/\s+/),g=[],v=0,b=m.length;v<b;v++){var E=m[v];if(E.length>0){var y=E.split("/");g.push(y)}}for(var w=g[0],v=1,b=g.length-1;v<b;v++){var k=g[v],R=g[v+1];n.addFace(w[0],k[0],R[0],w[1],k[1],R[1],w[2],k[2],R[2])}}else if("l"===l){var T=a.substring(1).trim().split(" "),L=[],M=[];if(-1===a.indexOf("/"))L=T;else for(var H=0,C=T.length;H<C;H++){var V=T[H].split("/");""!==V[0]&&L.push(V[0]),""!==V[1]&&M.push(V[1])}n.addLineGeometry(L,M)}else if("p"===l){var f=a.substr(1).trim(),O=f.split(" ");n.addPointGeometry(O)}else if(null!==(c=r.exec(a))){var P=(" "+c[0].substr(1).trim()).substr(1);n.startObject(P)}else if(o.test(a))n.object.startMaterial(a.substring(7).trim(),n.materialLibraries);else if(i.test(a))n.materialLibraries.push(a.substring(7).trim());else{if("s"!==l){if("\0"===a)continue;throw new Error('THREE.OBJLoader: Unexpected line: "'+a+'"')}if(c=a.split(" "),c.length>1){var x=c[1].trim().toLowerCase();n.object.smooth="0"!==x&&"off"!==x}else n.object.smooth=!0;var A=n.object.currentMaterial();A&&(A.smooth=n.object.smooth)}n.finalize();var S=new THREE.Group;S.materialLibraries=[].concat(n.materialLibraries);for(var h=0,p=n.objects.length;h<p;h++){var j=n.objects[h],D=j.geometry,W=j.materials,N="Line"===D.type,F="Points"===D.type,I=!1;if(0!==D.vertices.length){var _=new THREE.BufferGeometry;_.addAttribute("position",new THREE.Float32BufferAttribute(D.vertices,3)),D.normals.length>0?_.addAttribute("normal",new THREE.Float32BufferAttribute(D.normals,3)):_.computeVertexNormals(),D.colors.length>0&&(I=!0,_.addAttribute("color",new THREE.Float32BufferAttribute(D.colors,3))),D.uvs.length>0&&_.addAttribute("uv",new THREE.Float32BufferAttribute(D.uvs,2));for(var B=[],U=0,z=W.length;U<z;U++){var q=W[U],A=void 0;if(null!==this.materials)if(A=this.materials.create(q.name),!N||!A||A instanceof THREE.LineBasicMaterial){if(F&&A&&!(A instanceof THREE.PointsMaterial)){var Q=new THREE.PointsMaterial({size:10,sizeAttenuation:!1});G.copy(A),A=Q}}else{var G=new THREE.LineBasicMaterial;G.copy(A),G.lights=!1,A=G}A||(A=N?new THREE.LineBasicMaterial:F?new THREE.PointsMaterial({size:1,sizeAttenuation:!1}):new THREE.MeshPhongMaterial,A.name=q.name),A.flatShading=!q.smooth,A.vertexColors=I?THREE.VertexColors:THREE.NoColors,B.push(A)}var Y;if(B.length>1){for(var U=0,z=W.length;U<z;U++){var q=W[U];_.addGroup(q.groupStart,q.groupCount,U)}Y=N?new THREE.LineSegments(_,B):F?new THREE.Points(_,B):new THREE.Mesh(_,B)}else Y=N?new THREE.LineSegments(_,B[0]):F?new THREE.Points(_,B[0]):new THREE.Mesh(_,B[0]);Y.name=j.name,S.add(Y)}}return console.timeEnd("OBJLoader"),S}},t}()},YM5a:function(e,t,r){"use strict";THREE.TrackballControls=function(e,t){function r(e){!1!==p.enabled&&(window.removeEventListener("keydown",r),g=m,m===d.NONE&&(e.keyCode!==p.keys[d.ROTATE]||p.noRotate?e.keyCode!==p.keys[d.ZOOM]||p.noZoom?e.keyCode!==p.keys[d.PAN]||p.noPan||(m=d.PAN):m=d.ZOOM:m=d.ROTATE))}function i(e){!1!==p.enabled&&(m=g,window.addEventListener("keydown",r,!1))}function o(e){!1!==p.enabled&&(e.preventDefault(),e.stopPropagation(),m===d.NONE&&(m=e.button),m!==d.ROTATE||p.noRotate?m!==d.ZOOM||p.noZoom?m!==d.PAN||p.noPan||(M.copy(P(e.pageX,e.pageY)),H.copy(M)):(k.copy(P(e.pageX,e.pageY)),R.copy(k)):(E.copy(x(e.pageX,e.pageY)),b.copy(E)),document.addEventListener("mousemove",n,!1),document.addEventListener("mouseup",s,!1),p.dispatchEvent(V))}function n(e){!1!==p.enabled&&(e.preventDefault(),e.stopPropagation(),m!==d.ROTATE||p.noRotate?m!==d.ZOOM||p.noZoom?m!==d.PAN||p.noPan||H.copy(P(e.pageX,e.pageY)):R.copy(P(e.pageX,e.pageY)):(b.copy(E),E.copy(x(e.pageX,e.pageY))))}function s(e){!1!==p.enabled&&(e.preventDefault(),e.stopPropagation(),m=d.NONE,document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",s),p.dispatchEvent(O))}function a(e){if(!1!==p.enabled&&!0!==p.noZoom){switch(e.preventDefault(),e.stopPropagation(),e.deltaMode){case 2:k.y-=.025*e.deltaY;break;case 1:k.y-=.01*e.deltaY;break;default:k.y-=25e-5*e.deltaY}p.dispatchEvent(V),p.dispatchEvent(O)}}function l(e){if(!1!==p.enabled){switch(e.touches.length){case 1:m=d.TOUCH_ROTATE,E.copy(x(e.touches[0].pageX,e.touches[0].pageY)),b.copy(E);break;default:m=d.TOUCH_ZOOM_PAN;var t=e.touches[0].pageX-e.touches[1].pageX,r=e.touches[0].pageY-e.touches[1].pageY;L=T=Math.sqrt(t*t+r*r);var i=(e.touches[0].pageX+e.touches[1].pageX)/2,o=(e.touches[0].pageY+e.touches[1].pageY)/2;M.copy(P(i,o)),H.copy(M)}p.dispatchEvent(V)}}function c(e){if(!1!==p.enabled)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:b.copy(E),E.copy(x(e.touches[0].pageX,e.touches[0].pageY));break;default:var t=e.touches[0].pageX-e.touches[1].pageX,r=e.touches[0].pageY-e.touches[1].pageY;L=Math.sqrt(t*t+r*r);var i=(e.touches[0].pageX+e.touches[1].pageX)/2,o=(e.touches[0].pageY+e.touches[1].pageY)/2;H.copy(P(i,o))}}function u(e){if(!1!==p.enabled){switch(e.touches.length){case 0:m=d.NONE;break;case 1:m=d.TOUCH_ROTATE,E.copy(x(e.touches[0].pageX,e.touches[0].pageY)),b.copy(E)}p.dispatchEvent(O)}}function h(e){!1!==p.enabled&&e.preventDefault()}var p=this,d={NONE:-1,ROTATE:0,ZOOM:1,PAN:2,TOUCH_ROTATE:3,TOUCH_ZOOM_PAN:4};this.object=e,this.domElement=void 0!==t?t:document,this.enabled=!0,this.screen={left:0,top:0,width:0,height:0},this.rotateSpeed=1,this.zoomSpeed=1.2,this.panSpeed=.3,this.noRotate=!1,this.noZoom=!1,this.noPan=!1,this.staticMoving=!1,this.dynamicDampingFactor=.2,this.minDistance=0,this.maxDistance=1/0,this.keys=[65,83,68],this.target=new THREE.Vector3;var f=new THREE.Vector3,m=d.NONE,g=d.NONE,v=new THREE.Vector3,b=new THREE.Vector2,E=new THREE.Vector2,y=new THREE.Vector3,w=0,k=new THREE.Vector2,R=new THREE.Vector2,T=0,L=0,M=new THREE.Vector2,H=new THREE.Vector2;this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.up0=this.object.up.clone();var C={type:"change"},V={type:"start"},O={type:"end"};this.handleResize=function(){if(this.domElement===document)this.screen.left=0,this.screen.top=0,this.screen.width=window.innerWidth,this.screen.height=window.innerHeight;else{var e=this.domElement.getBoundingClientRect(),t=this.domElement.ownerDocument.documentElement;this.screen.left=e.left+window.pageXOffset-t.clientLeft,this.screen.top=e.top+window.pageYOffset-t.clientTop,this.screen.width=e.width,this.screen.height=e.height}},this.handleEvent=function(e){"function"==typeof this[e.type]&&this[e.type](e)};var P=function(){var e=new THREE.Vector2;return function(t,r){return e.set((t-p.screen.left)/p.screen.width,(r-p.screen.top)/p.screen.height),e}}(),x=function(){var e=new THREE.Vector2;return function(t,r){return e.set((t-.5*p.screen.width-p.screen.left)/(.5*p.screen.width),(p.screen.height+2*(p.screen.top-r))/p.screen.width),e}}();this.rotateCamera=function(){var e,t=new THREE.Vector3,r=new THREE.Quaternion,i=new THREE.Vector3,o=new THREE.Vector3,n=new THREE.Vector3,s=new THREE.Vector3;return function(){s.set(E.x-b.x,E.y-b.y,0),e=s.length(),e?(v.copy(p.object.position).sub(p.target),i.copy(v).normalize(),o.copy(p.object.up).normalize(),n.crossVectors(o,i).normalize(),o.setLength(E.y-b.y),n.setLength(E.x-b.x),s.copy(o.add(n)),t.crossVectors(s,v).normalize(),e*=p.rotateSpeed,r.setFromAxisAngle(t,e),v.applyQuaternion(r),p.object.up.applyQuaternion(r),y.copy(t),w=e):!p.staticMoving&&w&&(w*=Math.sqrt(1-p.dynamicDampingFactor),v.copy(p.object.position).sub(p.target),r.setFromAxisAngle(y,w),v.applyQuaternion(r),p.object.up.applyQuaternion(r)),b.copy(E)}}(),this.zoomCamera=function(){var e;m===d.TOUCH_ZOOM_PAN?(e=T/L,T=L,v.multiplyScalar(e)):(e=1+(R.y-k.y)*p.zoomSpeed,1!==e&&e>0&&v.multiplyScalar(e),p.staticMoving?k.copy(R):k.y+=(R.y-k.y)*this.dynamicDampingFactor)},this.panCamera=function(){var e=new THREE.Vector2,t=new THREE.Vector3,r=new THREE.Vector3;return function(){e.copy(H).sub(M),e.lengthSq()&&(e.multiplyScalar(v.length()*p.panSpeed),r.copy(v).cross(p.object.up).setLength(e.x),r.add(t.copy(p.object.up).setLength(e.y)),p.object.position.add(r),p.target.add(r),p.staticMoving?M.copy(H):M.add(e.subVectors(H,M).multiplyScalar(p.dynamicDampingFactor)))}}(),this.checkDistances=function(){p.noZoom&&p.noPan||(v.lengthSq()>p.maxDistance*p.maxDistance&&(p.object.position.addVectors(p.target,v.setLength(p.maxDistance)),k.copy(R)),v.lengthSq()<p.minDistance*p.minDistance&&(p.object.position.addVectors(p.target,v.setLength(p.minDistance)),k.copy(R)))},this.update=function(){v.subVectors(p.object.position,p.target),p.noRotate||p.rotateCamera(),p.noZoom||p.zoomCamera(),p.noPan||p.panCamera(),p.object.position.addVectors(p.target,v),p.checkDistances(),p.object.lookAt(p.target),f.distanceToSquared(p.object.position)>1e-6&&(p.dispatchEvent(C),f.copy(p.object.position))},this.reset=function(){m=d.NONE,g=d.NONE,p.target.copy(p.target0),p.object.position.copy(p.position0),p.object.up.copy(p.up0),v.subVectors(p.object.position,p.target),p.object.lookAt(p.target),p.dispatchEvent(C),f.copy(p.object.position)},this.dispose=function(){this.domElement.removeEventListener("contextmenu",h,!1),this.domElement.removeEventListener("mousedown",o,!1),this.domElement.removeEventListener("wheel",a,!1),this.domElement.removeEventListener("touchstart",l,!1),this.domElement.removeEventListener("touchend",u,!1),this.domElement.removeEventListener("touchmove",c,!1),document.removeEventListener("mousemove",n,!1),document.removeEventListener("mouseup",s,!1),window.removeEventListener("keydown",r,!1),window.removeEventListener("keyup",i,!1)},this.domElement.addEventListener("contextmenu",h,!1),this.domElement.addEventListener("mousedown",o,!1),this.domElement.addEventListener("wheel",a,!1),this.domElement.addEventListener("touchstart",l,!1),this.domElement.addEventListener("touchend",u,!1),this.domElement.addEventListener("touchmove",c,!1),window.addEventListener("keydown",r,!1),window.addEventListener("keyup",i,!1),this.handleResize(),this.update()},THREE.TrackballControls.prototype=Object.create(THREE.EventDispatcher.prototype),THREE.TrackballControls.prototype.constructor=THREE.TrackballControls},bL3k:function(e,t,r){"use strict";function i(e){return e.index}Object.defineProperty(t,"__esModule",{value:!0});var o=r("u223"),n=(r.n(o),r("GiK3")),s=(r.n(n),r("RH2O")),a=r("VbqQ"),l=r.n(a),c=r("8b5R"),u=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),h={},p=function(e){function t(t){var r=e.call(this,t)||this;return r.state={isLoading:!0},r.resizeWindow=function(){r.threeApp&&r.threeApp.resizeDisplayGL&&r.threeApp.resizeDisplayGL()},r.canvasApp=0,r}return u(t,e),t.prototype.componentDidMount=function(){var e=this;this.canvasApp=new l.a(this.refs["three-canvas"],{filePath:"./static/male02.obj",callback:function(){e.setState({isLoading:!1})}});var t=function(){e.canvasApp&&(requestAnimationFrame(t),e.canvasApp.render())};window.addEventListener("resize",this.resizeWindow,!1),this.canvasApp.initGL(),this.canvasApp.resizeDisplayGL(),this.canvasApp.initContent(),t()},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.resizeWindow,!1),this.canvasApp.destroy(),this.canvasApp=0},t.prototype.render=function(){return n.createElement("div",{className:"detail-container"},n.createElement(c.a,{className:"detail-canvas-wrapper",spinning:this.state.isLoading},n.createElement("canvas",{className:"detail-canvas",ref:"three-canvas"})))},t}(n.Component);t.default=Object(s.b)(i,h)(p)},dcbN:function(e,t,r){"use strict";THREE.MTLLoader=function(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager},THREE.MTLLoader.prototype={constructor:THREE.MTLLoader,load:function(e,t,r,i){var o=this,n=new THREE.FileLoader(this.manager);n.setPath(this.path),n.load(e,function(e){t(o.parse(e))},r,i)},setPath:function(e){return this.path=e,this},setTexturePath:function(e){return this.texturePath=e,this},setBaseUrl:function(e){return console.warn("THREE.MTLLoader: .setBaseUrl() is deprecated. Use .setTexturePath( path ) for texture path or .setPath( path ) for general base path instead."),this.setTexturePath(e)},setCrossOrigin:function(e){return this.crossOrigin=e,this},setMaterialOptions:function(e){return this.materialOptions=e,this},parse:function(e){for(var t=e.split("\n"),r={},i=/\s+/,o={},n=0;n<t.length;n++){var s=t[n];if(s=s.trim(),0!==s.length&&"#"!==s.charAt(0)){var a=s.indexOf(" "),l=a>=0?s.substring(0,a):s;l=l.toLowerCase();var c=a>=0?s.substring(a+1):"";if(c=c.trim(),"newmtl"===l)r={name:c},o[c]=r;else if(r)if("ka"===l||"kd"===l||"ks"===l){var u=c.split(i,3);r[l]=[parseFloat(u[0]),parseFloat(u[1]),parseFloat(u[2])]}else r[l]=c}}var h=new THREE.MTLLoader.MaterialCreator(this.texturePath||this.path,this.materialOptions);return h.setCrossOrigin(this.crossOrigin),h.setManager(this.manager),h.setMaterials(o),h}},THREE.MTLLoader.MaterialCreator=function(e,t){this.baseUrl=e||"",this.options=t,this.materialsInfo={},this.materials={},this.materialsArray=[],this.nameLookup={},this.side=this.options&&this.options.side?this.options.side:THREE.FrontSide,this.wrap=this.options&&this.options.wrap?this.options.wrap:THREE.RepeatWrapping},THREE.MTLLoader.MaterialCreator.prototype={constructor:THREE.MTLLoader.MaterialCreator,crossOrigin:"anonymous",setCrossOrigin:function(e){return this.crossOrigin=e,this},setManager:function(e){this.manager=e},setMaterials:function(e){this.materialsInfo=this.convert(e),this.materials={},this.materialsArray=[],this.nameLookup={}},convert:function(e){if(!this.options)return e;var t={};for(var r in e){var i=e[r],o={};t[r]=o;for(var n in i){var s=!0,a=i[n],l=n.toLowerCase();switch(l){case"kd":case"ka":case"ks":this.options&&this.options.normalizeRGB&&(a=[a[0]/255,a[1]/255,a[2]/255]),this.options&&this.options.ignoreZeroRGBs&&0===a[0]&&0===a[1]&&0===a[2]&&(s=!1)}s&&(o[l]=a)}}return t},preload:function(){for(var e in this.materialsInfo)this.create(e)},getIndex:function(e){return this.nameLookup[e]},getAsArray:function(){var e=0;for(var t in this.materialsInfo)this.materialsArray[e]=this.create(t),this.nameLookup[t]=e,e++;return this.materialsArray},create:function(e){return void 0===this.materials[e]&&this.createMaterial_(e),this.materials[e]},createMaterial_:function(e){function t(e,t){return"string"!=typeof t||""===t?"":/^https?:\/\//i.test(t)?t:e+t}function r(e,r){if(!n[e]){var o=i.getTextureParams(r,n),s=i.loadTexture(t(i.baseUrl,o.url));s.repeat.copy(o.scale),s.offset.copy(o.offset),s.wrapS=i.wrap,s.wrapT=i.wrap,n[e]=s}}var i=this,o=this.materialsInfo[e],n={name:e,side:this.side};for(var s in o){var a,l=o[s];if(""!==l)switch(s.toLowerCase()){case"kd":n.color=(new THREE.Color).fromArray(l);break;case"ks":n.specular=(new THREE.Color).fromArray(l);break;case"map_kd":r("map",l);break;case"map_ks":r("specularMap",l);break;case"norm":r("normalMap",l);break;case"map_bump":case"bump":r("bumpMap",l);break;case"ns":n.shininess=parseFloat(l);break;case"d":a=parseFloat(l),a<1&&(n.opacity=a,n.transparent=!0);break;case"tr":a=parseFloat(l),this.options&&this.options.invertTrProperty&&(a=1-a),a>0&&(n.opacity=1-a,n.transparent=!0)}}return this.materials[e]=new THREE.MeshPhongMaterial(n),this.materials[e]},getTextureParams:function(e,t){var r,i={scale:new THREE.Vector2(1,1),offset:new THREE.Vector2(0,0)},o=e.split(/\s+/);return r=o.indexOf("-bm"),r>=0&&(t.bumpScale=parseFloat(o[r+1]),o.splice(r,2)),r=o.indexOf("-s"),r>=0&&(i.scale.set(parseFloat(o[r+1]),parseFloat(o[r+2])),o.splice(r,4)),r=o.indexOf("-o"),r>=0&&(i.offset.set(parseFloat(o[r+1]),parseFloat(o[r+2])),o.splice(r,4)),i.url=o.join(" ").trim(),i},loadTexture:function(e,t,r,i,o){var n,s=THREE.Loader.Handlers.get(e),a=void 0!==this.manager?this.manager:THREE.DefaultLoadingManager;return null===s&&(s=new THREE.TextureLoader(a)),s.setCrossOrigin&&s.setCrossOrigin(this.crossOrigin),n=s.load(e,r,i,o),void 0!==t&&(n.mapping=t),n}}},l9qI:function(e,t,r){"use strict";void 0===THREE.LoaderSupport&&(THREE.LoaderSupport={}),THREE.LoaderSupport.Validator={isValid:function(e){return null!==e&&void 0!==e},verifyInput:function(e,t){return null===e||void 0===e?t:e}},THREE.LoaderSupport.Callbacks=function(){function e(){this.onProgress=null,this.onMeshAlter=null,this.onLoad=null,this.onLoadMaterials=null}var t=THREE.LoaderSupport.Validator;return e.prototype.setCallbackOnProgress=function(e){this.onProgress=t.verifyInput(e,this.onProgress)},e.prototype.setCallbackOnMeshAlter=function(e){this.onMeshAlter=t.verifyInput(e,this.onMeshAlter)},e.prototype.setCallbackOnLoad=function(e){this.onLoad=t.verifyInput(e,this.onLoad)},e.prototype.setCallbackOnLoadMaterials=function(e){this.onLoadMaterials=t.verifyInput(e,this.onLoadMaterials)},e}(),THREE.LoaderSupport.LoadedMeshUserOverride=function(){function e(e,t){this.disregardMesh=!0===e,this.alteredMesh=!0===t,this.meshes=[]}return e.prototype.addMesh=function(e){this.meshes.push(e),this.alteredMesh=!0},e.prototype.isDisregardMesh=function(){return this.disregardMesh},e.prototype.providesAlteredMeshes=function(){return this.alteredMesh},e}(),THREE.LoaderSupport.ResourceDescriptor=function(){function e(e,r){var i=e.split("/");i.length<2?(this.path=null,this.name=e,this.url=e):(this.path=t.verifyInput(i.slice(0,i.length-1).join("/")+"/",null),this.name=i[i.length-1],this.url=e),this.name=t.verifyInput(this.name,"Unnamed_Resource"),this.extension=t.verifyInput(r,"default"),this.extension=this.extension.trim(),this.content=null}var t=THREE.LoaderSupport.Validator;return e.prototype.setContent=function(e){this.content=t.verifyInput(e,null)},e}(),THREE.LoaderSupport.PrepData=function(){function e(e){this.logging={enabled:!0,debug:!1},this.modelName=t.verifyInput(e,""),this.resources=[],this.callbacks=new THREE.LoaderSupport.Callbacks}var t=THREE.LoaderSupport.Validator;return e.prototype.setLogging=function(e,t){this.logging.enabled=!0===e,this.logging.debug=!0===t},e.prototype.getCallbacks=function(){return this.callbacks},e.prototype.addResource=function(e){this.resources.push(e)},e.prototype.clone=function(){var e=new THREE.LoaderSupport.PrepData(this.modelName);e.logging.enabled=this.logging.enabled,e.logging.debug=this.logging.debug,e.resources=this.resources,e.callbacks=this.callbacks;var t,r;for(t in this)r=this[t],e.hasOwnProperty(t)||"function"==typeof this[t]||(e[t]=r);return e},e.prototype.checkResourceDescriptorFiles=function(e,r){var i,o,n,s,a={};for(var l in e)if(i=e[l],s=!1,t.isValid(i.name))if(t.isValid(i.content)){for(n=0;n<r.length&&!s;n++)if(o=r[n],i.extension.toLowerCase()===o.ext.toLowerCase())if(o.ignore)s=!0;else if("ArrayBuffer"===o.type){if(!(i.content instanceof ArrayBuffer||i.content instanceof Uint8Array))throw"Provided content is not of type ArrayBuffer! Aborting...";a[o.ext]=i,s=!0}else if("String"===o.type){if(!("string"==typeof i.content||i.content instanceof String))throw"Provided  content is not of type String! Aborting...";a[o.ext]=i,s=!0}if(!s)throw'Unidentified resource "'+i.name+'": '+i.url}else{if(!("string"==typeof i.name||i.name instanceof String))throw"Provided file is not properly defined! Aborting...";for(n=0;n<r.length&&!s;n++)o=r[n],i.extension.toLowerCase()===o.ext.toLowerCase()&&(o.ignore||(a[o.ext]=i),s=!0);if(!s)throw'Unidentified resource "'+i.name+'": '+i.url}return a},e}(),THREE.LoaderSupport.MeshBuilder=function(){function e(){console.info("Using THREE.LoaderSupport.MeshBuilder version: "+t),this.logging={enabled:!0,debug:!1},this.callbacks=new THREE.LoaderSupport.Callbacks,this.materials=[]}var t="1.2.1",r=THREE.LoaderSupport.Validator;return e.prototype.setLogging=function(e,t){this.logging.enabled=!0===e,this.logging.debug=!0===t},e.prototype.init=function(){var e=new THREE.MeshStandardMaterial({color:14479871});e.name="defaultMaterial";var t=new THREE.MeshStandardMaterial({color:14479871});t.name="defaultVertexColorMaterial",t.vertexColors=THREE.VertexColors;var r=new THREE.LineBasicMaterial;r.name="defaultLineMaterial";var i=new THREE.PointsMaterial({size:1});i.name="defaultPointMaterial";var o={};o[e.name]=e,o[t.name]=t,o[r.name]=r,o[i.name]=i,this.updateMaterials({cmd:"materialData",materials:{materialCloneInstructions:null,serializedMaterials:null,runtimeMaterials:o}})},e.prototype.setMaterials=function(e){var t={cmd:"materialData",materials:{materialCloneInstructions:null,serializedMaterials:null,runtimeMaterials:r.isValid(this.callbacks.onLoadMaterials)?this.callbacks.onLoadMaterials(e):e}};this.updateMaterials(t)},e.prototype._setCallbacks=function(e){r.isValid(e.onProgress)&&this.callbacks.setCallbackOnProgress(e.onProgress),r.isValid(e.onMeshAlter)&&this.callbacks.setCallbackOnMeshAlter(e.onMeshAlter),r.isValid(e.onLoad)&&this.callbacks.setCallbackOnLoad(e.onLoad),r.isValid(e.onLoadMaterials)&&this.callbacks.setCallbackOnLoadMaterials(e.onLoadMaterials)},e.prototype.processPayload=function(e){return"meshData"===e.cmd?this.buildMeshes(e):"materialData"===e.cmd?(this.updateMaterials(e),null):void 0},e.prototype.buildMeshes=function(e){var t=e.params.meshName,i=new THREE.BufferGeometry;i.addAttribute("position",new THREE.BufferAttribute(new Float32Array(e.buffers.vertices),3)),r.isValid(e.buffers.indices)&&i.setIndex(new THREE.BufferAttribute(new Uint32Array(e.buffers.indices),1)),r.isValid(e.buffers.colors)&&i.addAttribute("color",new THREE.BufferAttribute(new Float32Array(e.buffers.colors),3)),r.isValid(e.buffers.normals)?i.addAttribute("normal",new THREE.BufferAttribute(new Float32Array(e.buffers.normals),3)):i.computeVertexNormals(),r.isValid(e.buffers.uvs)&&i.addAttribute("uv",new THREE.BufferAttribute(new Float32Array(e.buffers.uvs),2));var o,n,s,a=e.materials.materialNames,l=e.materials.multiMaterial,c=[];for(s in a)n=a[s],o=this.materials[n],l&&c.push(o);if(l){o=c;var u,h=e.materials.materialGroups;for(s in h)u=h[s],i.addGroup(u.start,u.count,u.index)}var p,d,f=[],m=this.callbacks.onMeshAlter,g=!0,v=r.verifyInput(e.geometryType,0);if(r.isValid(m)&&(d=m({detail:{meshName:t,bufferGeometry:i,material:o,geometryType:v}}),r.isValid(d)))if(d.isDisregardMesh())g=!1;else if(d.providesAlteredMeshes()){for(var b in d.meshes)f.push(d.meshes[b]);g=!1}g&&(e.computeBoundingSphere&&i.computeBoundingSphere(),p=0===v?new THREE.Mesh(i,o):1===v?new THREE.LineSegments(i,o):new THREE.Points(i,o),p.name=t,f.push(p));var E;if(r.isValid(f)&&f.length>0){var y=[];for(var b in f)p=f[b],y[b]=p.name;E="Adding mesh(es) ("+y.length+": "+y+") from input mesh: "+t,E+=" ("+(100*e.progress.numericalValue).toFixed(2)+"%)"}else E="Not adding mesh: "+t,E+=" ("+(100*e.progress.numericalValue).toFixed(2)+"%)";var w=this.callbacks.onProgress;if(r.isValid(w)){w(new CustomEvent("MeshBuilderEvent",{detail:{type:"progress",modelName:e.params.meshName,text:E,numericalValue:e.progress.numericalValue}}))}return f},e.prototype.updateMaterials=function(e){var t,i,o=e.materials.materialCloneInstructions;if(r.isValid(o)){var n=o.materialNameOrg,s=this.materials[n];if(r.isValid(n)){t=s.clone(),i=o.materialName,t.name=i;var a=o.materialProperties;for(var l in a)t.hasOwnProperty(l)&&a.hasOwnProperty(l)&&(t[l]=a[l]);this.materials[i]=t}else console.warn('Requested material "'+n+'" is not available!')}var c=e.materials.serializedMaterials;if(r.isValid(c)&&Object.keys(c).length>0){var u,h=new THREE.MaterialLoader;for(i in c)u=c[i],r.isValid(u)&&(t=h.parse(u),this.logging.enabled&&console.info('De-serialized material with name "'+i+'" will be added.'),this.materials[i]=t)}if(c=e.materials.runtimeMaterials,r.isValid(c)&&Object.keys(c).length>0)for(i in c)t=c[i],this.logging.enabled&&console.info('Material with name "'+i+'" will be added.'),this.materials[i]=t},e.prototype.getMaterialsJSON=function(){var e,t={};for(var r in this.materials)e=this.materials[r],t[r]=e.toJSON();return t},e.prototype.getMaterials=function(){return this.materials},e}(),THREE.LoaderSupport.WorkerRunnerRefImpl=function(){function e(){var e=this,t=function(t){e.processMessage(t.data)};self.addEventListener("message",t,!1)}return e.prototype.applyProperties=function(e,t){var r,i,o;for(r in t)i="set"+r.substring(0,1).toLocaleUpperCase()+r.substring(1),o=t[r],"function"==typeof e[i]?e[i](o):e.hasOwnProperty(r)&&(e[r]=o)},e.prototype.processMessage=function(e){if("run"===e.cmd){var t={callbackMeshBuilder:function(e){self.postMessage(e)},callbackProgress:function(t){e.logging.enabled&&e.logging.debug&&console.debug("WorkerRunner: progress: "+t)}},r=new Parser;"function"==typeof r.setLogging&&r.setLogging(e.logging.enabled,e.logging.debug),this.applyProperties(r,e.params),this.applyProperties(r,e.materials),this.applyProperties(r,t),r.workerScope=self,r.parse(e.data.input,e.data.options),e.logging.enabled&&console.log("WorkerRunner: Run complete!"),t.callbackMeshBuilder({cmd:"complete",msg:"WorkerRunner completed run."})}else console.error("WorkerRunner: Received unknown command: "+e.cmd)},e}(),THREE.LoaderSupport.WorkerSupport=function(){function e(){if(console.info("Using THREE.LoaderSupport.WorkerSupport version: "+t),this.logging={enabled:!0,debug:!1},void 0===window.Worker)throw"This browser does not support web workers!";if(void 0===window.Blob)throw"This browser does not support Blob!";if("function"!=typeof window.URL.createObjectURL)throw"This browser does not support Object creation from URL!";this.loaderWorker=new i}var t="2.2.0",r=THREE.LoaderSupport.Validator,i=function(){function e(){this._reset()}return e.prototype._reset=function(){this.logging={enabled:!0,debug:!1},this.worker=null,this.runnerImplName=null,this.callbacks={meshBuilder:null,onLoad:null},this.terminateRequested=!1,this.queuedMessage=null,this.started=!1,this.forceCopy=!1},e.prototype.setLogging=function(e,t){this.logging.enabled=!0===e,this.logging.debug=!0===t},e.prototype.setForceCopy=function(e){this.forceCopy=!0===e},e.prototype.initWorker=function(e,t){this.runnerImplName=t;var r=new Blob([e],{type:"application/javascript"});this.worker=new Worker(window.URL.createObjectURL(r)),this.worker.onmessage=this._receiveWorkerMessage,this.worker.runtimeRef=this,this._postMessage()},e.prototype._receiveWorkerMessage=function(e){var t=e.data;switch(t.cmd){case"meshData":case"materialData":case"imageData":this.runtimeRef.callbacks.meshBuilder(t);break;case"complete":this.runtimeRef.queuedMessage=null,this.started=!1,this.runtimeRef.callbacks.onLoad(t.msg),this.runtimeRef.terminateRequested&&(this.runtimeRef.logging.enabled&&console.info("WorkerSupport ["+this.runtimeRef.runnerImplName+"]: Run is complete. Terminating application on request!"),this.runtimeRef._terminate());break;case"error":console.error("WorkerSupport ["+this.runtimeRef.runnerImplName+"]: Reported error: "+t.msg),this.runtimeRef.queuedMessage=null,this.started=!1,this.runtimeRef.callbacks.onLoad(t.msg),this.runtimeRef.terminateRequested&&(this.runtimeRef.logging.enabled&&console.info("WorkerSupport ["+this.runtimeRef.runnerImplName+"]: Run reported error. Terminating application on request!"),this.runtimeRef._terminate());break;default:console.error("WorkerSupport ["+this.runtimeRef.runnerImplName+"]: Received unknown command: "+t.cmd)}},e.prototype.setCallbacks=function(e,t){this.callbacks.meshBuilder=r.verifyInput(e,this.callbacks.meshBuilder),this.callbacks.onLoad=r.verifyInput(t,this.callbacks.onLoad)},e.prototype.run=function(e){if(r.isValid(this.queuedMessage))return void console.warn("Already processing message. Rejecting new run instruction");if(this.queuedMessage=e,this.started=!0,!r.isValid(this.callbacks.meshBuilder))throw'Unable to run as no "MeshBuilder" callback is set.';if(!r.isValid(this.callbacks.onLoad))throw'Unable to run as no "onLoad" callback is set.';"run"!==e.cmd&&(e.cmd="run"),r.isValid(e.logging)?(e.logging.enabled=!0===e.logging.enabled,e.logging.debug=!0===e.logging.debug):e.logging={enabled:!0,debug:!1},this._postMessage()},e.prototype._postMessage=function(){if(r.isValid(this.queuedMessage)&&r.isValid(this.worker))if(this.queuedMessage.data.input instanceof ArrayBuffer){var e;e=this.forceCopy?this.queuedMessage.data.input.slice(0):this.queuedMessage.data.input,this.worker.postMessage(this.queuedMessage,[e])}else this.worker.postMessage(this.queuedMessage)},e.prototype.setTerminateRequested=function(e){this.terminateRequested=!0===e,this.terminateRequested&&r.isValid(this.worker)&&!r.isValid(this.queuedMessage)&&this.started&&(this.logging.enabled&&console.info("Worker is terminated immediately as it is not running!"),this._terminate())},e.prototype._terminate=function(){this.worker.terminate(),this._reset()},e}();e.prototype.setLogging=function(e,t){this.logging.enabled=!0===e,this.logging.debug=!0===t,this.loaderWorker.setLogging(this.logging.enabled,this.logging.debug)},e.prototype.setForceWorkerDataCopy=function(e){this.loaderWorker.setForceCopy(e)},e.prototype.validate=function(e,t,i,s,a){if(!r.isValid(this.loaderWorker.worker)){this.logging.enabled&&(console.info("WorkerSupport: Building worker code..."),console.time("buildWebWorkerCode")),r.isValid(a)?this.logging.enabled&&console.info('WorkerSupport: Using "'+a.name+'" as Runner class for worker.'):(a=THREE.LoaderSupport.WorkerRunnerRefImpl,this.logging.enabled&&console.info('WorkerSupport: Using DEFAULT "THREE.LoaderSupport.WorkerRunnerRefImpl" as Runner class for worker.'));var l=e(o,n);l+="var Parser = "+t+";\n\n",l+=n(a.name,a),l+="new "+a.name+"();\n\n";var c=this;if(r.isValid(i)&&i.length>0){var u="";!function e(t,r){if(0===r.length)c.loaderWorker.initWorker(u+l,a.name),c.logging.enabled&&console.timeEnd("buildWebWorkerCode");else{var i=function(i){u+=i,e(t,r)},o=new THREE.FileLoader;o.setPath(t),o.setResponseType("text"),o.load(r[0],i),r.shift()}}(s,i)}else this.loaderWorker.initWorker(l,a.name),this.logging.enabled&&console.timeEnd("buildWebWorkerCode")}},e.prototype.setCallbacks=function(e,t){this.loaderWorker.setCallbacks(e,t)},e.prototype.run=function(e){this.loaderWorker.run(e)},e.prototype.setTerminateRequested=function(e){this.loaderWorker.setTerminateRequested(e)};var o=function(e,t){var r,i=e+" = {\n";for(var o in t)r=t[o],"string"==typeof r||r instanceof String?(r=r.replace("\n","\\n"),r=r.replace("\r","\\r"),i+="\t"+o+': "'+r+'",\n'):r instanceof Array?i+="\t"+o+": ["+r+"],\n":Number.isInteger(r)?i+="\t"+o+": "+r+",\n":"function"==typeof r&&(i+="\t"+o+": "+r+",\n");return i+="}\n\n"},n=function(e,t,i,o,n){var s,a,l,c="",u=r.isValid(i)?i:t.name;n=r.verifyInput(n,[]);for(var h in t.prototype)a=t.prototype[h],"constructor"===h?(s=a.toString(),s=s.replace("function",""),l="\tfunction "+u+s+";\n\n"):"function"==typeof a&&n.indexOf(h)<0&&(s=a.toString(),c+="\t"+u+".prototype."+h+" = "+s+";\n\n");c+="\treturn "+u+";\n",c+="})();\n\n";var p="";return r.isValid(o)&&(p+="\n",p+=u+".prototype = Object.create( "+o+".prototype );\n",p+=u+".constructor = "+u+";\n",p+="\n"),r.isValid(l)?c=e+" = (function () {\n\n"+p+l+c:(l=e+" = (function () {\n\n",l+=p+"\t"+t.prototype.constructor.toString()+"\n\n",c=l+c),c};return e}(),THREE.LoaderSupport.WorkerDirector=function(){function e(e){if(console.info("Using THREE.LoaderSupport.WorkerDirector version: "+t),this.logging={enabled:!0,debug:!1},this.maxQueueSize=o,this.maxWebWorkers=i,this.crossOrigin="anonymous",!r.isValid(e))throw"Provided invalid classDef: "+e;this.workerDescription={classDef:e,globalCallbacks:{},workerSupports:{},forceWorkerDataCopy:!0},this.objectsCompleted=0,this.instructionQueue=[],this.instructionQueuePointer=0,this.callbackOnFinishedProcessing=null}var t="2.2.1",r=THREE.LoaderSupport.Validator,i=16,o=8192;return e.prototype.setLogging=function(e,t){this.logging.enabled=!0===e,this.logging.debug=!0===t},e.prototype.getMaxQueueSize=function(){return this.maxQueueSize},e.prototype.getMaxWebWorkers=function(){return this.maxWebWorkers},e.prototype.setCrossOrigin=function(e){this.crossOrigin=e},e.prototype.setForceWorkerDataCopy=function(e){this.workerDescription.forceWorkerDataCopy=!0===e},e.prototype.prepareWorkers=function(e,t,n){r.isValid(e)&&(this.workerDescription.globalCallbacks=e),this.maxQueueSize=Math.min(t,o),this.maxWebWorkers=Math.min(n,i),this.maxWebWorkers=Math.min(this.maxWebWorkers,this.maxQueueSize),this.objectsCompleted=0,this.instructionQueue=[],this.instructionQueuePointer=0;for(var s=0;s<this.maxWebWorkers;s++){var a=new THREE.LoaderSupport.WorkerSupport;a.setLogging(this.logging.enabled,this.logging.debug),a.setForceWorkerDataCopy(this.workerDescription.forceWorkerDataCopy),this.workerDescription.workerSupports[s]={instanceNo:s,inUse:!1,terminateRequested:!1,workerSupport:a,loader:null}}},e.prototype.enqueueForRun=function(e){this.instructionQueue.length<this.maxQueueSize&&this.instructionQueue.push(e)},e.prototype.isRunning=function(){var e=Object.keys(this.workerDescription.workerSupports);return this.instructionQueue.length>0&&this.instructionQueuePointer<this.instructionQueue.length||e.length>0},e.prototype.processQueue=function(){var e,t;for(var r in this.workerDescription.workerSupports)t=this.workerDescription.workerSupports[r],t.inUse||(this.instructionQueuePointer<this.instructionQueue.length?(e=this.instructionQueue[this.instructionQueuePointer],this._kickWorkerRun(e,t),this.instructionQueuePointer++):this._deregister(t));this.isRunning()||null===this.callbackOnFinishedProcessing||(this.callbackOnFinishedProcessing(),this.callbackOnFinishedProcessing=null)},e.prototype._kickWorkerRun=function(e,t){t.inUse=!0,t.workerSupport.setTerminateRequested(t.terminateRequested),this.logging.enabled&&console.info("\nAssigning next item from queue to worker (queue length: "+this.instructionQueue.length+")\n\n");var i=this,o=e.getCallbacks(),n=this.workerDescription.globalCallbacks,s=function(e){r.isValid(n.onLoad)&&n.onLoad(e),r.isValid(o.onLoad)&&o.onLoad(e),i.objectsCompleted++,t.inUse=!1,i.processQueue()},a=function(e){r.isValid(n.onProgress)&&n.onProgress(e),r.isValid(o.onProgress)&&o.onProgress(e)},l=function(e,t){return r.isValid(n.onMeshAlter)&&(t=n.onMeshAlter(e,t)),r.isValid(o.onMeshAlter)&&(t=n.onMeshAlter(e,t)),t},c=function(e){return r.isValid(n.onLoadMaterials)&&(e=n.onLoadMaterials(e)),r.isValid(o.onLoadMaterials)&&(e=o.onLoadMaterials(e)),e};t.loader=this._buildLoader(t.instanceNo);var u=new THREE.LoaderSupport.Callbacks;u.setCallbackOnLoad(s),u.setCallbackOnProgress(a),u.setCallbackOnMeshAlter(l),u.setCallbackOnLoadMaterials(c),e.callbacks=u,t.loader.run(e,t.workerSupport)},e.prototype._buildLoader=function(e){var t=this.workerDescription.classDef,i=Object.create(t.prototype);if(t.call(i,THREE.DefaultLoadingManager),!i.hasOwnProperty("instanceNo"))throw t.name+' has no property "instanceNo".';if(i.instanceNo=e,!i.hasOwnProperty("workerSupport"))throw t.name+' has no property "workerSupport".';if("function"!=typeof i.run)throw t.name+' has no function "run".';return i.hasOwnProperty("callbacks")&&r.isValid(i.callbacks)||(console.warn(t.name+' has an invalid property "callbacks". Will change to "THREE.LoaderSupport.Callbacks"'),i.callbacks=new THREE.LoaderSupport.Callbacks),i},e.prototype._deregister=function(e){if(r.isValid(e)){e.workerSupport.setTerminateRequested(!0),this.logging.enabled&&console.info("Requested termination of worker #"+e.instanceNo+".");var t=e.loader.callbacks;r.isValid(t.onProgress)&&t.onProgress({detail:{text:""}}),delete this.workerDescription.workerSupports[e.instanceNo]}},e.prototype.tearDown=function(e){this.logging.enabled&&console.info("WorkerDirector received the deregister call. Terminating all workers!"),this.instructionQueuePointer=this.instructionQueue.length,this.callbackOnFinishedProcessing=r.verifyInput(e,null);for(var t in this.workerDescription.workerSupports)this.workerDescription.workerSupports[t].terminateRequested=!0},e}()},u223:function(e,t,r){var i=r("G3cC");"string"==typeof i&&(i=[[e.i,i,""]]);var o={hmr:!0};o.transform=void 0,o.insertInto=void 0;r("MTIv")(i,o);i.locals&&(e.exports=i.locals)}});
//# sourceMappingURL=0.a52f112.js.map